<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendar App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
        }
        .calendar {
            max-width: 800px;
            margin: 30px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #fff;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .btn {
            background-color: #08997a;
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
        }
        .btn:hover {
            background-color: #067a64;
        }
        .days-of-week, .days {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }
        .days-of-week div, .day {
            padding: 10px;
            border-radius: 5px;
        }
        .days-of-week div {
            background-color: #08997a;
            color: #fff;
        }
        .day {
            background-color: #f0f0f0;
            cursor: pointer;
        }
        .day:hover {
            background-color: #05cca1;
            color: white;
        }
        .event-day {
            background-color: #ff4d4d !important;
            color: white;
        }
        .modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .modal.show {
            display: block;
        }
        .event-box-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #f8f8f8;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
        }
        .event-box {
            text-align: left;
            flex-grow: 1;
        }
        .event-date {
            font-weight: bold;
            display: block;
            margin-bottom: 5px;
        }
        .delete-btn {
            background-color: red;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 10px;
        }
        .delete-btn:hover {
            background-color: darkred;
        }
    </style>
</head>
<body>
<div class="calendar">
    <div class="header">
        <button class="btn" id="prevMonthBtn">Previous</button>
        <h2 id="monthYear"></h2>
        <div id="liveTime">00:00:00</div>
        <button class="btn" id="nextMonthBtn">Next</button>
    </div>
    <div class="days-of-week">
        <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
    </div>
    <div class="days" id="calendarDays"></div>
    <button class="btn" id="listEventsBtn">List Events</button>
</div>

<div class="modal" id="eventModal">
    <h3>Enter Event</h3>
    <input type="text" id="eventDescription" placeholder="Enter event description">
    <input type="time" id="eventTime">
    <button class="btn" id="saveEventBtn">Save</button>
    <button class="btn" onclick="closeModal()">Close</button>
</div>

<div class="modal" id="listEventsModal">
    <h3>List of Events</h3>
    <div id="eventList"></div>
    <button class="btn" id="clearEventsBtn">Clear All Events</button>
    <button class="btn" onclick="closeListEventsModal()">Close</button>
</div>

<script>
   const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    let currentMonth = new Date().getMonth();
    let currentYear = new Date().getFullYear();
    let events = JSON.parse(localStorage.getItem("events")) || [];

    function updateClock() {
        const now = new Date();
        document.getElementById("liveTime").textContent = now.toLocaleTimeString();
    }
    setInterval(updateClock, 1000);
    updateClock();

    function saveEventsToStorage() {
        localStorage.setItem("events", JSON.stringify(events));
    }

    function generateCalendar(month, year) {
        document.getElementById('calendarDays').innerHTML = '';
        document.getElementById('monthYear').innerText = `${monthNames[month]} ${year}`;

        const firstDay = new Date(year, month, 1).getDay();
        const daysInMonth = new Date(year, month + 1, 0).getDate();

        for (let i = 0; i < firstDay; i++) {
            document.getElementById('calendarDays').appendChild(document.createElement('div'));
        }

        for (let day = 1; day <= daysInMonth; day++) {
    const dayDiv = document.createElement('div');
    dayDiv.classList.add('day');
    dayDiv.textContent = day;

    // Get today's date
    const today = new Date();
    if (day === today.getDate() && month === today.getMonth() && year === today.getFullYear()) {
        dayDiv.style.color = "black";  // White text for contrast
        dayDiv.style.border = "2px solid darkgreen"; // Optional: Add a border
    }

    // Highlight days with events
    if (events.some(e => e.day === day && e.month === month && e.year === year)) {
        dayDiv.classList.add('event-day');
    }

    dayDiv.addEventListener('click', () => openEventModal(day, month, year));
    document.getElementById('calendarDays').appendChild(dayDiv);
}
    }

    function openEventModal(day, month, year) {
        document.getElementById('eventModal').classList.add('show');

        document.getElementById('saveEventBtn').onclick = function() {
            const desc = document.getElementById('eventDescription').value.trim();
            const time = document.getElementById('eventTime').value;

            if (desc && time) {
                events.push({ day, month, year, description: desc, time });
                saveEventsToStorage();
                generateCalendar(currentMonth, currentYear);
                closeModal();
            }
        };
    }

    function closeModal() {
        document.getElementById('eventModal').classList.remove('show');
    }

    function showEventList() {
        const eventListDiv = document.getElementById('eventList');
        eventListDiv.innerHTML = "";

        if (events.length === 0) {
            eventListDiv.innerHTML = "<p>No events found.</p>";
        } else {
            events.forEach((event, index) => {
                const eventBox = document.createElement('div');
                eventBox.classList.add('event-box-container');
                eventBox.innerHTML = `
                    <div class="event-box">
                        <span class="event-date">${monthNames[event.month]} ${event.day}, ${event.year} - ${event.time}</span>
                        <span>${event.description}</span>
                    </div>
                    <button class="delete-btn" onclick="deleteEvent(${index})">Delete</button>
                `;
                eventListDiv.appendChild(eventBox);
            });
        }

        document.getElementById('listEventsModal').classList.add('show');
    }

    function deleteEvent(index) {
        events.splice(index, 1);
        saveEventsToStorage();
        showEventList();
        generateCalendar(currentMonth, currentYear);
    }

    function clearAllEvents() {
        events = [];
        saveEventsToStorage();
        showEventList();
        generateCalendar(currentMonth, currentYear);
    }

    function closeListEventsModal() {
        document.getElementById('listEventsModal').classList.remove('show');
    }

    document.getElementById('prevMonthBtn').onclick = () => { currentMonth--; generateCalendar(currentMonth, currentYear); };z
    document.getElementById('nextMonthBtn').onclick = () => { currentMonth++; generateCalendar(currentMonth, currentYear); };
    document.getElementById('listEventsBtn').addEventListener('click', showEventList);
    document.getElementById('clearEventsBtn').addEventListener('click', clearAllEvents);
    document.getElementById('listEventsModal').querySelector("button[onclick='closeListEventsModal()']").addEventListener('click', closeListEventsModal);

    generateCalendar(currentMonth, currentYear);
</script>
</body>
</html>
	